import React, { useState } from 'react';

export default function HowItWorksSection() {
    const [selectedLocation, setSelectedLocation] = useState('Лондон');

    const locations = ['Амстердам', 'Франкфурт', 'Мадрид', 'Лондон'];

    const getEndpoint = (location) => {
        const endpoints = {
            'Амстердам': 'ams-01.turbo-internet.com:51820',
            'Франкфурт': 'fra-01.turbo-internet.com:51820',
            'Мадрид': 'mad-01.turbo-internet.com:51820',
            'Лондон': 'lon-01.turbo-internet.com:51820',
        };
        return endpoints[location] || 'lon-01.turbo-internet.com:51820';
    };

    return (
        <section className="relative bg-lianer py-20 px-[20px] max-[425px]:py-10">
            <div className="max-w-[1136px] mx-auto">
                <h2 className="text-[42px] font-light text-white text-center max-[425px]:text-[28px] mb-[32px]">
                    Как это работает
                </h2>

                <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <div
                        className="bg-[#1B1A1C] rounded-[12px] p-[16px] border border-[rgba(139,92,246,0.4)] transition-all duration-300"
                        style={{
                            boxShadow: '0 10px 40px rgba(0, 0, 0, 0.4)',
                        }}
                    >
                        <div className="flex flex-col items-start mb-[42px] max-[425px]:mb-[16px]">
                            <svg className='mb-[16px]' width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <mask id="path-1-inside-1_2381_1359" fill="white">
                                    <path d="M0 24C0 10.7452 10.7452 0 24 0C37.2548 0 48 10.7452 48 24C48 37.2548 37.2548 48 24 48C10.7452 48 0 37.2548 0 24Z" />
                                </mask>
                                <path d="M0 24C0 10.7452 10.7452 0 24 0C37.2548 0 48 10.7452 48 24C48 37.2548 37.2548 48 24 48C10.7452 48 0 37.2548 0 24Z" fill="url(#paint0_linear_2381_1359)" />
                                <path d="M24 48V47C11.2975 47 1 36.7025 1 24H0H-1C-1 37.8071 10.1929 49 24 49V48ZM48 24H47C47 36.7025 36.7025 47 24 47V48V49C37.8071 49 49 37.8071 49 24H48ZM24 0V1C36.7025 1 47 11.2975 47 24H48H49C49 10.1929 37.8071 -1 24 -1V0ZM24 0V-1C10.1929 -1 -1 10.1929 -1 24H0H1C1 11.2975 11.2975 1 24 1V0Z" fill="#8B5CF6" fill-opacity="0.4" mask="url(#path-1-inside-1_2381_1359)" />
                                <path d="M28.1456 15.5455H29.1456C29.1456 14.9932 28.6979 14.5455 28.1456 14.5455V15.5455ZM28.1456 33V34C28.6979 34 29.1456 33.5523 29.1456 33H28.1456ZM23.407 33H22.407C22.407 33.5523 22.8547 34 23.407 34V33ZM23.407 19.9091H24.407C24.407 19.3568 23.9592 18.9091 23.407 18.9091V19.9091ZM23.3047 19.9091V18.9091C23.1239 18.9091 22.9465 18.9581 22.7913 19.0509L23.3047 19.9091ZM19.4865 22.1932H18.4865C18.4865 22.5532 18.68 22.8855 18.9932 23.0631C19.3064 23.2407 19.6909 23.2362 19.9999 23.0513L19.4865 22.1932ZM19.4865 18.1705L18.9651 17.3172C18.6678 17.4988 18.4865 17.8221 18.4865 18.1705H19.4865ZM23.782 15.5455V14.5455C23.598 14.5455 23.4175 14.5962 23.2605 14.6922L23.782 15.5455ZM28.1456 15.5455H27.1456V33H28.1456H29.1456V15.5455H28.1456ZM28.1456 33V32H23.407V33V34H28.1456V33ZM23.407 33H24.407V19.9091H23.407H22.407V33H23.407ZM23.407 19.9091V18.9091H23.3047V19.9091V20.9091H23.407V19.9091ZM23.3047 19.9091L22.7913 19.0509L18.9731 21.335L19.4865 22.1932L19.9999 23.0513L23.8181 20.7673L23.3047 19.9091ZM19.4865 22.1932H20.4865V18.1705H19.4865H18.4865V22.1932H19.4865ZM19.4865 18.1705L20.008 19.0237L24.3034 16.3987L23.782 15.5455L23.2605 14.6922L18.9651 17.3172L19.4865 18.1705ZM23.782 15.5455V16.5455H28.1456V15.5455V14.5455H23.782V15.5455Z" fill="#8B5CF6" />
                                <defs>
                                    <linearGradient id="paint0_linear_2381_1359" x1="0" y1="0" x2="48" y2="48" gradientUnits="userSpaceOnUse">
                                        <stop stop-color="#8B5CF6" stop-opacity="0.3" />
                                        <stop offset="1" stop-color="#8B5CF6" stop-opacity="0.1" />
                                    </linearGradient>
                                </defs>
                            </svg>

                            <div>
                                <h3 className="text-[18px] font-light text-white mb-[8px]">
                                    Получите ключ
                                </h3>
                                <p className="text-[#A3A3A3] text-[16px] leading-relaxed">
                                    После оплаты вы получите ключ для приложения и инструкции для ваших устройств.
                                </p>
                            </div>
                        </div>

                        <div className="bg-transparent rounded-[12px] px-[12px] py-[7px] border border-[#8b5cf6] mb-[24px] max-[425px]:mb-[16px]">
                            <code className="text-white font-mono text-sm">
                                ssconf://.....
                            </code>
                        </div>

                        <p className="text-[#A3A3A3] text-[14px] leading-relaxed">
                            Подключайтесь через наше приложение, или через любой другой клиент.
                            Готовые инструкции — внутри личного кабинета.
                        </p>
                    </div>

                    <div
                        className="p-[16px] bg-[#1B1A1C] rounded-[12px]  border border-[rgba(139,92,246,0.4)] transition-all duration-300"
                        style={{
                            boxShadow: '0 10px 40px rgba(0, 0, 0, 0.4)',
                        }}
                    >
                        <div className="flex flex-col items-start mb-[16px]">
                            <svg className='mb-[16px]' width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <mask id="path-1-inside-1_2381_1367" fill="white">
                                    <path d="M0 24C0 10.7452 10.7452 0 24 0C37.2548 0 48 10.7452 48 24C48 37.2548 37.2548 48 24 48C10.7452 48 0 37.2548 0 24Z" />
                                </mask>
                                <path d="M0 24C0 10.7452 10.7452 0 24 0C37.2548 0 48 10.7452 48 24C48 37.2548 37.2548 48 24 48C10.7452 48 0 37.2548 0 24Z" fill="url(#paint0_linear_2381_1367)" />
                                <path d="M24 48V47C11.2975 47 1 36.7025 1 24H0H-1C-1 37.8071 10.1929 49 24 49V48ZM48 24H47C47 36.7025 36.7025 47 24 47V48V49C37.8071 49 49 37.8071 49 24H48ZM24 0V1C36.7025 1 47 11.2975 47 24H48H49C49 10.1929 37.8071 -1 24 -1V0ZM24 0V-1C10.1929 -1 -1 10.1929 -1 24H0H1C1 11.2975 11.2975 1 24 1V0Z" fill="#8B5CF6" fill-opacity="0.4" mask="url(#path-1-inside-1_2381_1367)" />
                                <path d="M17.4013 33H16.4013C16.4013 33.5523 16.849 34 17.4013 34V33ZM17.4013 29.5909L16.7639 28.8204C16.5342 29.0104 16.4013 29.2929 16.4013 29.5909H17.4013ZM23.9126 24.2045L24.55 24.9751L24.5508 24.9744L23.9126 24.2045ZM25.0206 23.1989L24.3071 22.4982L24.307 22.4983L25.0206 23.1989ZM25.7365 22.2188L24.845 21.7655L24.8391 21.7776L25.7365 22.2188ZM25.7024 19.9517L24.8408 20.4594L24.8476 20.4707L25.7024 19.9517ZM24.9183 19.2188L24.4532 20.1041L24.4651 20.1101L24.9183 19.2188ZM22.6001 19.2188L22.135 18.3335L22.1288 18.3368L22.6001 19.2188ZM21.8331 19.9943L20.9507 19.5237V19.5237L21.8331 19.9943ZM21.5604 21.2386V22.2386C22.1127 22.2386 22.5604 21.7909 22.5604 21.2386H21.5604ZM17.0604 21.2386H16.0604C16.0604 21.7909 16.5081 22.2386 17.0604 22.2386V21.2386ZM17.8871 18.0682L17.0379 17.5401L17.0379 17.5401L17.8871 18.0682ZM20.2223 16.0227L20.651 16.9262L20.2223 16.0227ZM27.3899 15.9801L26.988 16.8958L26.9942 16.8985L27.3899 15.9801ZM29.7678 17.8551L28.9447 18.4231L28.9474 18.427L29.7678 17.8551ZM30.1939 22.696L31.1151 23.0851L31.1163 23.0823L30.1939 22.696ZM28.6939 24.8864L29.4369 25.5556L28.6939 24.8864ZM25.6172 27.75L26.2574 28.5182L25.6172 27.75ZM23.9808 29.1136L23.3406 28.3454C23.1126 28.5354 22.9808 28.8169 22.9808 29.1136H23.9808ZM23.9808 29.2159H22.9808C22.9808 29.7682 23.4285 30.2159 23.9808 30.2159V29.2159ZM30.799 29.2159H31.799C31.799 28.6636 31.3513 28.2159 30.799 28.2159V29.2159ZM30.799 33V34C31.3513 34 31.799 33.5523 31.799 33H30.799ZM17.4013 33H18.4013V29.5909H17.4013H16.4013V33H17.4013ZM17.4013 29.5909L18.0387 30.3614L24.55 24.9751L23.9126 24.2045L23.2752 23.434L16.7639 28.8204L17.4013 29.5909ZM23.9126 24.2045L24.5508 24.9744C25.0021 24.6004 25.3979 24.242 25.7342 23.8995L25.0206 23.1989L24.307 22.4983C24.0297 22.7808 23.6869 23.0928 23.2745 23.4347L23.9126 24.2045ZM25.0206 23.1989L25.734 23.8996C26.1073 23.5196 26.414 23.1074 26.634 22.6599L25.7365 22.2188L24.8391 21.7776C24.7295 22.0006 24.5589 22.2418 24.3071 22.4982L25.0206 23.1989ZM25.7365 22.2188L26.6279 22.672C26.8759 22.1843 26.9922 21.6548 26.9922 21.1023H25.9922H24.9922C24.9922 21.3679 24.938 21.5828 24.8451 21.7655L25.7365 22.2188ZM25.9922 21.1023H26.9922C26.9922 20.5082 26.8633 19.9368 26.5572 19.4327L25.7024 19.9517L24.8476 20.4707C24.9279 20.603 24.9922 20.7986 24.9922 21.1023H25.9922ZM25.7024 19.9517L26.564 19.444C26.2778 18.9585 25.8734 18.5825 25.3716 18.3274L24.9183 19.2188L24.4651 20.1101C24.6337 20.1959 24.752 20.3086 24.8409 20.4594L25.7024 19.9517ZM24.9183 19.2188L25.3835 18.3335C24.8839 18.071 24.3335 17.9545 23.7592 17.9545V18.9545V19.9545C24.06 19.9545 24.2823 20.0142 24.4532 20.104L24.9183 19.2188ZM23.7592 18.9545V17.9545C23.185 17.9545 22.6345 18.071 22.135 18.3335L22.6001 19.2188L23.0653 20.104C23.2362 20.0142 23.4585 19.9545 23.7592 19.9545V18.9545ZM22.6001 19.2188L22.1288 18.3368C21.6183 18.6096 21.2224 19.0143 20.9507 19.5237L21.8331 19.9943L22.7154 20.4649C22.8074 20.2925 22.9229 20.1801 23.0715 20.1007L22.6001 19.2188ZM21.8331 19.9943L20.9507 19.5237C20.6739 20.0428 20.5604 20.6283 20.5604 21.2386H21.5604H22.5604C22.5604 20.8717 22.6287 20.6276 22.7154 20.4649L21.8331 19.9943ZM21.5604 21.2386V20.2386H17.0604V21.2386V22.2386H21.5604V21.2386ZM17.0604 21.2386H18.0604C18.0604 20.1647 18.2999 19.298 18.7363 18.5962L17.8871 18.0682L17.0379 17.5401C16.372 18.6111 16.0604 19.858 16.0604 21.2386H17.0604ZM17.8871 18.0682L18.7363 18.5962C19.1793 17.8837 19.8066 17.3269 20.651 16.9262L20.2223 16.0227L19.7936 15.1193C18.6267 15.6731 17.6971 16.4799 17.0379 17.5401L17.8871 18.0682ZM20.2223 16.0227L20.651 16.9262C21.4971 16.5246 22.524 16.3068 23.7592 16.3068V15.3068V14.3068C22.2899 14.3068 20.9589 14.5663 19.7936 15.1193L20.2223 16.0227ZM23.7592 15.3068V16.3068C25.0523 16.3068 26.1196 16.5146 26.988 16.8958L27.3899 15.9801L27.7918 15.0644C26.6148 14.5478 25.2616 14.3068 23.7592 14.3068V15.3068ZM27.3899 15.9801L26.9942 16.8985C27.8752 17.2781 28.5092 17.792 28.9447 18.4231L29.7678 17.8551L30.5908 17.2871C29.9127 16.3046 28.9614 15.5684 27.7857 15.0618L27.3899 15.9801ZM29.7678 17.8551L28.9474 18.427C29.3809 19.0488 29.6115 19.7904 29.6115 20.6932H30.6115H31.6115C31.6115 19.4255 31.2796 18.2751 30.5881 17.2832L29.7678 17.8551ZM30.6115 20.6932H29.6115C29.6115 21.2213 29.5026 21.758 29.2715 22.3097L30.1939 22.696L31.1163 23.0823C31.442 22.3045 31.6115 21.506 31.6115 20.6932H30.6115ZM30.1939 22.696L29.2727 22.3069C29.0537 22.8253 28.6318 23.4611 27.9509 24.2171L28.6939 24.8864L29.4369 25.5556C30.1992 24.7093 30.7772 23.885 31.1151 23.0851L30.1939 22.696ZM28.6939 24.8864L27.9509 24.2171C27.2743 24.9683 26.289 25.8884 24.977 26.9818L25.6172 27.75L26.2574 28.5182C27.6045 27.3956 28.6703 26.4067 29.4369 25.5556L28.6939 24.8864ZM25.6172 27.75L24.977 26.9818L23.3406 28.3454L23.9808 29.1136L24.621 29.8819L26.2574 28.5182L25.6172 27.75ZM23.9808 29.1136H22.9808V29.2159H23.9808H24.9808V29.1136H23.9808ZM23.9808 29.2159V30.2159H30.799V29.2159V28.2159H23.9808V29.2159ZM30.799 29.2159H29.799V33H30.799H31.799V29.2159H30.799ZM30.799 33V32H17.4013V33V34H30.799V33Z" fill="#8B5CF6" />
                                <defs>
                                    <linearGradient id="paint0_linear_2381_1367" x1="0" y1="0" x2="48" y2="48" gradientUnits="userSpaceOnUse">
                                        <stop stop-color="#8B5CF6" stop-opacity="0.3" />
                                        <stop offset="1" stop-color="#8B5CF6" stop-opacity="0.1" />
                                    </linearGradient>
                                </defs>
                            </svg>

                            <div>
                                <h3 className="text-[18px] font-light text-white mb-[8px]">
                                    Выберите локацию
                                </h3>
                                <p className="text-[#A3A3A3] text-[16px] leading-relaxed">
                                    Смените точку выхода в сеть в один клик. Профили для ближайших узлов подставятся автоматически.
                                </p>
                            </div>
                        </div>

                        <div className="flex flex-wrap gap-3 mb-6 ">
                            {locations.map((location) => (
                                <button
                                    key={location}
                                    onClick={() => setSelectedLocation(location)}
                                    className={`px-[16px] py-[10px] text-[14px] rounded-full font-medium transition-all duration-300 ${selectedLocation === location
                                        ? 'bg-purple-600 text-white'
                                        : 'bg-purple-900/30 text-purple-300 hover:bg-purple-800/50'
                                        }`}
                                        style={{boxShadow: '0 0 20px 0 rgba(139,92,246,0.4)', background: 'rgba(139,92,246,0.4)'}}
                                >
                                    {location}
                                </button>
                            ))}
                        </div>

                        <div className="bg-transparent rounded-[12px] px-[12px] py-[8px] border border-[#8B5CF6]">
                            <div className="text-white text-[18px]">
                                Выбрана локация: {selectedLocation} →
                            </div>
                            <code className="text-white font-mono text-[18px]">
                                endpoint: {getEndpoint(selectedLocation)}
                            </code>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    );
}